<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>asr.autospecs documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Asr</span> <span class="project-version">0.1.0-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="intro.html"><div class="inner"><span>Introduction to asr</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>asr</span></div></div></li><li class="depth-2 branch"><a href="asr.asr.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>asr</span></div></a></li><li class="depth-2 branch current"><a href="asr.autospecs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>autospecs</span></div></a></li><li class="depth-2 branch"><a href="asr.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="asr.data.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>data</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>expr</span></div></div></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>synnasr</span></div></div></li><li class="depth-4"><a href="asr.expr.synnasr.integer-bin-op.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>integer-bin-op</span></div></a></li><li class="depth-2 branch"><a href="asr.grammar.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>grammar</span></div></a></li><li class="depth-2 branch"><a href="asr.numbers.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>numbers</span></div></a></li><li class="depth-2 branch"><a href="asr.parsed.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>parsed</span></div></a></li><li class="depth-2 branch"><a href="asr.sandbox.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>sandbox</span></div></a></li><li class="depth-2 branch"><a href="asr.specs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>specs</span></div></a></li><li class="depth-2 branch"><a href="asr.stats.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>stats</span></div></a></li><li class="depth-2"><a href="asr.utils.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>utils</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="asr.autospecs.html#var-do-one-tuple-spec-head-and-term.21"><div class="inner"><span>do-one-tuple-spec-head-and-term!</span></div></a></li><li class="depth-1"><a href="asr.autospecs.html#var-do-synnasr"><div class="inner"><span>do-synnasr</span></div></a></li><li class="depth-1"><a href="asr.autospecs.html#var-dummy-generator-for-heads"><div class="inner"><span>dummy-generator-for-heads</span></div></a></li><li class="depth-1"><a href="asr.autospecs.html#var-dummy-lpred"><div class="inner"><span>dummy-lpred</span></div></a></li><li class="depth-1"><a href="asr.autospecs.html#var-heads-for-composite"><div class="inner"><span>heads-for-composite</span></div></a></li><li class="depth-1"><a href="asr.autospecs.html#var-spec-from-arg"><div class="inner"><span>spec-from-arg</span></div></a></li><li class="depth-1"><a href="asr.autospecs.html#var-spec-from-args"><div class="inner"><span>spec-from-args</span></div></a></li><li class="depth-1"><a href="asr.autospecs.html#var-spec-from-composite"><div class="inner"><span>spec-from-composite</span></div></a></li><li class="depth-1"><a href="asr.autospecs.html#var-spec-from-head-and-args"><div class="inner"><span>spec-from-head-and-args</span></div></a></li><li class="depth-1"><a href="asr.autospecs.html#var-spec-from-symconst-stuff"><div class="inner"><span>spec-from-symconst-stuff</span></div></a></li><li class="depth-1"><a href="asr.autospecs.html#var-symconst-spec-for-term"><div class="inner"><span>symconst-spec-for-term</span></div></a></li><li class="depth-1"><a href="asr.autospecs.html#var-tuple-head-spec-from-stuff"><div class="inner"><span>tuple-head-spec-from-stuff</span></div></a></li><li class="depth-1"><a href="asr.autospecs.html#var-tuple-stuffs"><div class="inner"><span>tuple-stuffs</span></div></a></li><li class="depth-1"><a href="asr.autospecs.html#var-tuple-stuffss-by-term"><div class="inner"><span>tuple-stuffss-by-term</span></div></a></li><li class="depth-1"><a href="asr.autospecs.html#var-tuple-term-spec-from-stuffs"><div class="inner"><span>tuple-term-spec-from-stuffs</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">asr.autospecs</h1><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var-do-one-tuple-spec-head-and-term.21"><h3>do-one-tuple-spec-head-and-term!</h3><div class="usage"><code>(do-one-tuple-spec-head-and-term! term)</code></div><div class="doc"><div class="markdown"><p>Spec one tuple type, head-spec and term-spec, by term.</p>
</div></div></div><div class="public anchor" id="var-do-synnasr"><h3>do-synnasr</h3><div class="usage"><code>(do-synnasr)</code></div><div class="doc"><div class="markdown"><p>Side-effecting automated items for the spec registry. W.I.P.</p>
</div></div></div><div class="public anchor" id="var-dummy-generator-for-heads"><h3>dummy-generator-for-heads</h3><div class="usage"><code>(dummy-generator-for-heads heads)</code></div><div class="doc"><div class="markdown"><p>Insert a list of random length of random identifiers. For producing dummy specs that are later backpatched by hand.</p>
</div></div></div><div class="public anchor" id="var-dummy-lpred"><h3>dummy-lpred</h3><div class="usage"><code>(dummy-lpred heads)</code></div><div class="doc"><div class="markdown"><p>Check simply that the instance is a list with an appropriate head and zero or more items of any type. For producing dummy specs that are later backpatched by hand.</p>
</div></div></div><div class="public anchor" id="var-heads-for-composite"><h3>heads-for-composite</h3><div class="usage"><code>(heads-for-composite term)</code></div><div class="doc"><div class="markdown"><p>Produce a list of symbolic heads (like <code>RealUnaryMinus</code> and <code>ArraySection</code>), from a term like <code>:asr.autospecs/expr</code>.</p>
</div></div></div><div class="public anchor" id="var-spec-from-arg"><h3>spec-from-arg</h3><div class="usage"><code>(spec-from-arg arg)</code></div><div class="doc"><div class="markdown"><p>Convert multiplicities from <code>asr.parsed</code> into clojure.spec equivalents.</p>
</div></div></div><div class="public anchor" id="var-spec-from-args"><h3>spec-from-args</h3><div class="usage"><code>(spec-from-args args)</code></div><div class="doc"><div class="markdown"><p>Write a spec to be eval’ed later from an args tuple.</p>
</div></div></div><div class="public anchor" id="var-spec-from-composite"><h3>spec-from-composite</h3><div class="usage"><code>(spec-from-composite composite)</code></div><div class="doc"><div class="markdown"><p>Write specs as data lists and <code>eval</code> them later. Turns out it’s necessary to do that, and it’s a beneficial accident lest we clutter up the namespace of specs.</p>
<p>Composites and tuples have lists of type-var pairs, that is, of args. We’ve already handled arg lists in <code>spec-from-args</code> above.</p>
<p>Assumes specs for all tuples’ heads and terms have already been registered. Don’t call this function too early.</p>
</div></div></div><div class="public anchor" id="var-spec-from-head-and-args"><h3>spec-from-head-and-args</h3><div class="usage"><code>(spec-from-head-and-args head args)</code></div><div class="doc"><div class="markdown"><p>Write a spec to be eval’ed later from a head and an args tuple.</p>
</div></div></div><div class="public anchor" id="var-spec-from-symconst-stuff"><h3>spec-from-symconst-stuff</h3><div class="usage"><code>(spec-from-symconst-stuff symconst-stuff)</code></div><div class="doc"><div class="markdown"><p>Construct and register all (approximately) 72 symconst head-specs:</p>
<p>A spec is <em>registered</em> into a hidden Clojure Spec Registry by side-effect and is associated with a namespaced keyword produced by <code>asr.utils/nskw-kebab-from</code>. For example, <code>:asr.autospecs/implementation</code>.</p>
<p>All specs, head-specs and term-specs alike must be registered before being referred-to. We break co-recursive cycles by registering defective autospecs then backpatching them by hand-written specs in namespace <code>asr.specs</code>. For example, the term-spec for <code>::symbol</code> refers to the term-spec for <code>::symbol-table</code>, which refers to the term-spec for <code>::symbol</code>. Clojure.spec can’t tolerate that, but it can tolerate a defective term-spec for <code>::symbol-table</code> that we backpatch later by hand.</p>
</div></div></div><div class="public anchor" id="var-symconst-spec-for-term"><h3>symconst-spec-for-term</h3><div class="usage"><code>(symconst-spec-for-term stuffs-for-term)</code></div><div class="doc"><div class="markdown"><p>For each term, spec a <code>set</code> containing its alternative heads, e.g., the term <code>binop</code> is one of the ten heads <code>Add</code>, <code>Sub</code>, and so on, to <code>BitRShift</code>. The spec produced by this function must be <code>eval</code>’ed to register the spec.</p>
</div></div></div><div class="public anchor" id="var-tuple-head-spec-from-stuff"><h3>tuple-head-spec-from-stuff</h3><div class="usage"><code>(tuple-head-spec-from-stuff tuple-stuff)</code></div><div class="doc"><div class="markdown"><p>Write a spec to be eval’ed later from tuple stuff (see <code>asr.parsed</code> for definition of <em>stuff</em>).</p>
</div></div></div><div class="public anchor" id="var-tuple-stuffs"><h3>tuple-stuffs</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>List of all six tuple stuffs. There are six tuple heads. Their names will change from run-to-run because the names are gensymmed.</p>
</div></div></div><div class="public anchor" id="var-tuple-stuffss-by-term"><h3>tuple-stuffss-by-term</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Lists of tuple stuffs for each term. As before, we really need clojure.specs for the terms corresponding to the heads, an inverted index.</p>
</div></div></div><div class="public anchor" id="var-tuple-term-spec-from-stuffs"><h3>tuple-term-spec-from-stuffs</h3><div class="usage"><code>(tuple-term-spec-from-stuffs stuffs)</code></div><div class="doc"><div class="markdown"><p>Write a tuple term-spec to be eval’ed later from tuple stuffs (see <code>asr.parsed</code> for definition of <em>stuff</em>).</p>
</div></div></div></div></body></html>